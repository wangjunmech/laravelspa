<template>
  <div id="app">
     <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">
                      <h3>Order Items æ’åºç¤ºä¾‹ä¸ä¹±åº</h3>

                    </div> 
                    <div class="card-body">
                      <div>
                        <button class="btn btn-warning" @click="descItems()">                          
                        <span><i class="fa fa-arrow-circle-down"></i></span>
                        </button>

                        <button class="btn btn-warning" @click="ascItems()">                     
                        <span><i class="fa fa-arrow-circle-up"></i></span>
                        </button>
                        <button class="btn btn-danger" @click="shuffleItems()">                          
                        <span>ä¹±åº</span>
                        </button>

                      </div>
                      <!-- ****å•å±‚divç”¨jsè®¾ç½®é€æ˜åº¦æ—¶divä¸­çš„å†…å®¹ä¹Ÿä¼šè·Ÿç€å˜åŒ–ã€‚ è§£å†³æ–¹æ¡ˆå¦‚ä¸‹-->
                      <!-- <div class="setbg" v-for="(item,index) in items" :key="index" :ccode="item.color" style="color:black;background-color: green">{{item.lowername}}{{item.color}}</div> -->
                      <!-- **** ç”¨ä¸€ä¸ªå¤–å±‚divå¥—ä¸¤ä¸ªé‡å çš„DIVï¼Œç¬¬ä¸€ä¸ªDIVä¸­çš„å†…å®¹é€æ˜åº¦ä¼šå˜åŒ–ï¼Œæ”¾åˆ°åº•å±‚ï¼Œä¸æƒ³å˜é€æ˜åº¦çš„æ–‡æœ¬æ”¾åœ¨é¡¶å±‚å¹¶æŠŠé€æ˜åº¦è®¾ä¸ºå…¨é€æ˜ï¼Œç¬¬äºŒä¸ªDIVä¸­çš„Z-indexè¦æ¯”ç¬¬ä¸€ä¸ªçš„å¤§-->
                      <div v-for="(item,index) in items" style="">
                        <div class="setbg" :key="index" :ccode="item.color" style="position:absolute;background:green;z-index: 1;width: 100%;">ğŸ‘ª</div>
                        <div class="setbg" style="opacity: 1;z-index: 2;position:relative;text-indent: 30px">{{item.lowername}}{{item.color}}</div>
                      </div>


                    <div>
                      <div>
                        <hr>
                        <h2>DIVé‡å </h2>
                          <div >
                            <div style="position:absolute;font-size:120px;background:green;z-index: 1;width: 100%;">A</div>
                            <div style="position:relative;font-size:120px;opacity: 1;z-index: 2;">B</div>
                          </div> 

                          <div style="position:relative">
                             <div style="position:absolute;left:0;top:0;font-size: 120px">1</div>
                             <div style="position:absolute;left:0;top:0;font-size: 120px">0</div>
                          </div>  
                          <h2>22</h2>                        
                      </div>

 
                    </div>               
                    </div> 
                 
                </div> 
            </div>
        </div>      
    </div>
  </div>
</template>

<script>

  export default {
    data(){
    return{
        items:[
            {no: 0, lowername: "é›¶", uppername: "é›¶",color: 0.3},
            {no: 1, lowername: "ä¸€", uppername: "å£¹",color: 0.35},
            {no: 2, lowername: "äºŒ", uppername: "è´°",color: 0.4},
            {no: 3, lowername: "ä¸‰", uppername: "å",color: 0.45},
            {no: 4, lowername: "å››", uppername: "è‚†",color: 0.5},
            {no: 5, lowername: "äº”", uppername: "ä¼",color: 0.55},
            {no: 6, lowername: "å…­", uppername: "é™†",color: 0.6},
            {no: 7, lowername: "ä¸ƒ", uppername: "æŸ’",color: 0.65},
            {no: 8, lowername: "å…«", uppername: "æŒ",color: 0.7},
            {no: 9, lowername: "ä¹", uppername: "ç–",color: 0.75},
            {no: 10, lowername: "å", uppername: "æ‹¾",color: 0.8},
            {no: 11, lowername: "åä¸€", uppername: "æ‹¾å£¹",color: 0.85},
            {no: 12, lowername: "åäºŒ", uppername: "æ‹¾è´°",color: 0.9},
            {no: 13, lowername: "åä¸‰", uppername: "æ‹¾å",color: 0.95},
        ],
        testarr:[1,2,3,4,5,6,7,8]
        }
    },
    computed:{


    },
    methods:{
      //è®¾ç½®èƒŒæ™¯
        setbg(){
          var doms = document.getElementsByClassName('setbg');
          // console.log(doms[0].getAttribute('ccode'));

          for(var i=0;i<doms.length;i++){ 
            var num = doms[i].getAttribute('ccode');//è·å–è‡ªå®šä¹‰é€æ˜åº¦å€¼
            // doms[i].style.opacity=0.5;//è®¾ç½®æœ‰æ•ˆ
            doms[i].style.opacity=num;  //è®¾ç½®é€æ˜åº¦                   
            // doms[i].style.backgroundColor=rgba(0, 255, 0, num);  //è®¾ç½®é€æ˜åº¦      
            // var c= rgba(0, 255, 0, num);          
            // doms[i].style.background=c;  //è®¾ç½®é€æ˜åº¦                   
          }


        },
        //æ‰“ä¹±é¡ºåº
        shuffleItems(){
          var oarr=this.items;
          var testedarr;
          testedarr = this.shuffle2(oarr);
          this.items=testedarr; 
          this.$nextTick(() => {
              this.setbg();
          });

        },
        //æ‰“ä¹±æ•°ç»„å‡½æ•°
        shuffle(arr) {
          console.log('shuffle================')
            for (let i=arr.length-1; i>=0; i--) {
                let rIndex = Math.floor(Math.random()*(i+1));
                // æ‰“å°äº¤æ¢å€¼
                let temp = arr[rIndex];
                arr[rIndex] = arr[i];
                arr[i] = temp;
            }
            return arr;
        },
        // æ‰“ä¹±æ•°ç»„å‡½æ•°
        shuffle2(arr) {
          function getRandomInt(min, max) { 
            return Math.floor(Math.random() * (max - min + 1) + min) // +1æ˜¯ä¿è¯å¯ä»¥å–åˆ°ä¸Šé™å€¼
          }
          console.log('shuffle2================')
            let _arr = arr.slice()   // ä¸‹é¢ä¼šè®²åˆ°sliceçš„ç‰¹åˆ«ä¹‹å¤„
            for (let i = 0; i < _arr.length; i++) {
              let j = getRandomInt(0, i)
              let t = _arr[i]
              _arr[i] = _arr[j]
              _arr[j] = t
            }
            return _arr
        },
        // æ‰“ä¹±æ•°ç»„å‡½æ•°
        shuffle3(arr) {
          console.log('shuffle3================')
          var temparr = arr.slice();
          temparr = arr.sort(function(){ 
            // console.log(Math.random() - 0.8);
            return Math.random() - 0.8
          });
          return temparr;
        },
        //é™åºæ’åˆ—
        descItems(){
          //ä½¿ç”¨sortæ–¹æ³•æ’åº
           this.items=this.items.sort((a,b)=>{
                return b.no - a.no
            })
                     this.$nextTick(() => {
              this.setbg();
          });
        },
        //å‡åºæ’åˆ—
        ascItems(){


          //ä½¿ç”¨sortæ–¹æ³•æ’åº
           this.items=this.items.sort((a,b)=>{
                return a.no - b.no
            })
                     this.$nextTick(() => {
              this.setbg();
          });
        },

    }
  }
</script>
<style scoped="scoped">
  .treeselect{
    border: 1px solid red;
  }
</style>